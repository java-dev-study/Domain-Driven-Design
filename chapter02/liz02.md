## 2.1 네개의 영역

- 표현 :  사용자의 요청을 받아 응용 영역에 전달하고 응용 영역의 철기 결과를 다시 사용자에게 보여주는 역할
- 응용 : 기능을 구현하기 위해 도메인 영역의 도메인 모델을 사용, 로직을 직접 수행하기보다는 도메인 모델에 로직 수행을 위임
- 도메인 : 도메인 모델을 구현, 핵심 로직을 구현
- 인프라스트럭처 : 구현 기술에 대한 것을 다룸 ex) RDBMS연동..

## 2.2 계층 구조 아키텍처

표현 -> 응용 -> 도메인 -> 인프라스트럭처의 계층 구조를 따름
계층 구조는 상위 계층에서 하위 계층으로의 의존만 존재하고, 하위 계층은 상위 계층에 의존하지 않는다.

## 2.3 DIP

- 고수준 모듈 : 의미 있는 단일 기능을 제공하는 모듈

고수준 모듈의 기능을 구현하려면 여러 하위 기능이 필요, 즉 저수준 모듈을 사용해야힌다.
그러나 고수준 모듈이 저수준 모듈을 사용하면서 앞서 계층 구조 아키텍처에서 언급했던 두 가지 문제 "구현 변경", "테스트" 가 어렵다는 문제 발생
=> DIP는 이 문제를 해결하기 위해 저수준 모듈이 고수준 모듈에 의존하도록 바꾼다.
어떻게? 추상화한 인터페이스를 사용하여

DIP? 저수준 모듈이 고수준 모듈에 의존하는것, 의존 역전 원칙

DIP 주의사항? DIP를 적용할 때 하위 기능을 추상화한 인터페이스는 고수준 모듈 관점에서 도출 해야힘

DIP를 적용하면 응용 영역과 도메인 영역에 영향을 최소화하면서 구현체를 변경하거나 추가할 수 있다

## 2.4 도메인 영역의 주요 구성 요소

- 엔티티 : 고유의 식별자를 갖는 객체로 도메인의 고유한 개념을 표현
- 밸류 : 고유 식별자를 갖지 않는 객체로 주로 개념적으로 하나인 값을 표현할 때 사용
- 애그리거트 : 연관된 엔티티와 밸류 객체를 개념적으로 하나로 묶은 것
- 리포지터리 : 도메인 모델의 영속성을 처리 ex) DBMS 테이블에서 엔티티 객체를 로딩라거나 저장하는 기능
- 도메인 서비스 : 특정 엔티티에 속하지 않은 도메인 로직을 제공

도메인 모델의 엔티티와 DB 엔티티의 차이점
- 도메인 모델의 엔티티는 데이터와 함께 도메인 기능을 함께 제공한다는 점
- 도메인 모델의 엔티티는 단순히 데이터를 담고 있는 데이터 구조라기보다는 데이터와 함꼐 기능을 제공하는 객체
- 도메인 모델의 엔티티는 두 개 이상의 데이터가 개념적으로 하나인 경우 밸류 타입을 이용해서 표현할 수 있다


애그리거트? 도메인 모델에서 전체 구조를 이해하는 데 도움이 되는것으로, 관련 객채를 하나로 묶은 군집이다
애그리거트를 사용하면 개별 객체가 아닌 관련 객체를 묶어서 객체 군집 단위로 모델을 바라볼 수 있게 된다.

루트 엔티티 ? 애그리거트에 속해 있는 엔티티와 밸루 객체를 이용해서 애그리거트가 구현해야 할 기능을 제공

리포지토리? 물리적인 저장소
- 응용 서비스는 필요한 도메인 객체를 구하거나 저장할 때 리포지터리를 사용한다.
- 응용 서비스는 트랜잭션을 관리하는데, 트랜잭션 처리는 리포지터리 구현 기술의 영향을 받는다


