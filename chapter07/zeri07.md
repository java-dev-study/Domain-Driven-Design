## 7장. 도메인 서비스

<br>
<br>

### 7-1. 여러 애그리거트가 필요한 기능
***
- 실제 결제 금액을 계산할 때 
  - 상품 애그리거트 : 구매하는 상품의 가격이 필요하다. 또한 상품에 따라 배송비가 추가되기도 한다
  - 주문 애그리거트 : 상품별로 구매 개수가 필요하다.
  - 할인 쿠폰 애그리거트 : 쿠폰별로 지정한 할인 금액이나 비율에 따라 주문 총 금액을 할인한다. 할인 쿠폰을 조건에 따라 중복 사용할 수 있다거나 지정한 카테고리의 상품에만 적용할 수 있다는 제약 조건이 있다면 할인 계산이 복잡해진다. 
  - 회원 애그리거트 : 회원 등급에 따라 추가 할인이 가능하다.


도메인 기능을 별도 서비스로 구현한다. 
  
  
<br>
<br>

### 7-2. 도메인 서비스
***
- 도메인 서비스를 사용하는 경우
  - 계산 로직 : 여러 애그리거트가 필요한 계산 로직이나, 한 애그리거트에 넣기에는 다소 복잡한 계산 로직
  - 외부 시스템 연동이 필요한 도메인 로직 : 구현하기 위애 타 시스템을 사용해야 하는 도메인 로직


     
    
    
- 도메인 서비스의 패키지 위치
  -  다른 도메인 구성요소와 동일한 패키지에 위치한다.
  -  예를 들어 주문 금액 계산을 위한 도메인 서비스는 주문 애그리거트와 같은 패키지에 위치한다.


<br>
<br>
